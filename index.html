<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Monster Girl Summoner</title>

<style>
body {
  background: #0b0b0f;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 20px;
}

/* Summon Button */
button {
  background: linear-gradient(45deg, #6a00ff, #d900ff);
  border: none;
  padding: 14px 28px;
  border-radius: 12px;
  color: white;
  font-size: 18px;
  margin: 20px;
  box-shadow: 0 0 15px #a200ff;
}

/* Card Container */
.card {
  width: 260px;
  height: 380px;
  margin: 20px auto;
  position: relative;
  perspective: 1000px;
}

.card-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.8s;
}

.card.flip .card-inner {
  transform: rotateY(180deg);
}

.card-front,
.card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border: 3px solid #ffffff55;
  border-radius: 18px;
  overflow: hidden;
}

/* Front of card */
.card-front {
  background: #111;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 5px;
}

.card-front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Back of card */
.card-back {
  background: linear-gradient(135deg, #4c0080, #220033);
  transform: rotateY(180deg);
}

/* Ultra Rare Animation */
.ultra-card img {
  animation: float 3s ease-in-out infinite, glow 2s ease-in-out infinite;
}

@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0); }
}

@keyframes glow {
  0% { filter: drop-shadow(0 0 2px #a000ff80); }
  50% { filter: drop-shadow(0 0 14px #ff00ffdd); }
  100% { filter: drop-shadow(0 0 2px #a000ff80); }
}

/* Summon Flash */
#summonFlash {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: radial-gradient(circle, #a000ff77, #000000aa);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s;
}
</style>
</head>

<body>

<h1>Monster Girl Summoner</h1>

<button onclick="summon()">Summon</button>

<div id="summonFlash"></div>

<!-- Card Display -->
<div class="card" id="summonCard">
  <div class="card-inner">
    <div class="card-front">
      <img id="cardImage" src="">
    </div>
    <div class="card-back"></div>
  </div>
</div>

<script>
/* =============================
      CARD LIST (INCLUDES LILITH)
   ============================= */
const cards = [
  {
    name: "Cursed Maiden Elise",
    rarity: "rare",
    img: "https://picsum.photos/300/450?random=11"
  },
  {
    name: "Hollow Witch Serana",
    rarity: "super",
    img: "https://picsum.photos/300/450?random=12"
  },
  {
    name: "Ashen Knight Marielle",
    rarity: "mega",
    img: "https://picsum.photos/300/450?random=13"
  },

  /* ⭐ YOUR ULTRA RARE LILITH ⭐ */
  {
    name: "Dark Maiden Lilith",
    rarity: "ultra",
    img: "https://raw.githubusercontent.com/GonjaDrop/monster-girl-game/refs/heads/main/file_00000000dc2871fda0c2ee699123839e.png",
    animated: true,
    hp: 4500,
    atk: 950
  }
];

/* =============================
         SUMMON RARITY RATES
   ============================= */
function pullRarity() {
  let roll = Math.random() * 100;

  if (roll < 60) return "rare";
  if (roll < 85) return "super";
  if (roll < 97) return "mega";
  return "ultra";   // 3% chance
}

/* =============================
        SUMMON FLASH EFFECT
   ============================= */
function flashEffect() {
  let flash = document.getElementById("summonFlash");
  flash.style.opacity = 1;

  setTimeout(() => {
    flash.style.opacity = 0;
  }, 300);
}

/* =============================
          MAIN SUMMON
   ============================= */
function summon() {
  flashEffect();

  const rarity = pullRarity();
  const possible = cards.filter(c => c.rarity === rarity);
  const chosen = possible[Math.floor(Math.random() * possible.length)];

  const card = document.getElementById("summonCard");
  const img = document.getElementById("cardImage");

  // Apply card art
  img.src = chosen.img;

  // Remove previous UR effects
  img.parentElement.classList.remove("ultra-card");

  // If Ultra, add animation class
  if (chosen.rarity === "ultra") {
    img.parentElement.classList.add("ultra-card");
  }

  // Play flip animation
  card.classList.add("flip");
  setTimeout(() => { card.classList.remove("flip"); }, 1200);
}
</script>

</body>
</html>
